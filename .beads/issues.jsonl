{"id":"gtdispat-08g","title":"Frontend: Master-detail layout for beads page","description":"Implement master-detail layout for beads page.\n\n## Layout\n- Left panel (320px): Scrollable bead list\n- Right panel (flex): Selected bead detail or empty state\n\n## Bead List Items\n- Status icon (color-coded)\n- Title (truncated)\n- ID badge\n- Priority indicator\n- Type badge\n- Assignee (if any)\n- Updated time\n- Dependency count indicator\n\n## Components\n- BeadCard - Compact list item\n- BeadStatusBadge - Status with icon\n- PriorityBadge - P0-P4 indicator\n- TypeBadge - bug/feature/task/epic/chore\n- EmptyDetailState - Placeholder when none selected","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-07T14:18:27.692975-06:00","created_by":"erik","updated_at":"2026-01-07T14:18:27.692975-06:00","dependencies":[{"issue_id":"gtdispat-08g","depends_on_id":"gtdispat-17a","type":"blocks","created_at":"2026-01-07T14:19:19.859331-06:00","created_by":"erik"}]}
{"id":"gtdispat-0rz","title":"Backend: SSE convoy updates subscription","description":"Add SSE endpoint for real-time convoy updates.\n\n## Endpoint\nGET /convoys/subscribe (SSE stream)\n\n## Events\n1. **convoy:updated**\n   - Convoy status changed\n   - Progress changed (issue completed)\n   - Payload: { convoy_id, status, progress, completed, total }\n\n2. **convoy:created**\n   - New convoy created\n   - Payload: full Convoy object\n\n3. **convoy:closed**\n   - Convoy landed\n   - Payload: { convoy_id, closed_at }\n\n4. **issue:status**\n   - Tracked issue status changed\n   - Payload: { convoy_id, issue_id, old_status, new_status }\n\n5. **worker:assigned**\n   - Worker started on tracked issue\n   - Payload: { convoy_id, issue_id, worker, agent }\n\n## Implementation\n- Poll gt convoy list periodically (5s)\n- Diff against cached state\n- Emit events for changes\n- Client reconnection handling\n\n## Frontend Integration\n- useConvoySubscription hook\n- Auto-refresh convoy list on events\n- Update detail panel in real-time\n- Activity indicators on cards","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-07T09:26:28.976894-06:00","created_by":"erik","updated_at":"2026-01-07T14:17:01.724517-06:00","closed_at":"2026-01-07T14:17:01.724517-06:00","close_reason":"Implemented SSE convoy updates: ConvoyStreamer polls gt convoy list, emits events for changes, useConvoySubscription hook auto-invalidates React Query cache"}
{"id":"gtdispat-17a","title":"Backend: Enhanced bead API endpoints","description":"Add backend API endpoints for richer bead data and operations.\n\n## New Endpoints\n- GET /beads/:id/detail - Full bead with deps, comments, activity\n- GET /beads/:id/deps - Dependency tree (blocks/blocked-by)  \n- POST /beads/:id/deps - Add dependency\n- DELETE /beads/:id/deps/:depId - Remove dependency\n- GET /beads/:id/comments - List comments\n- POST /beads/:id/comments - Add comment\n- PUT /beads/:id - Update bead fields\n- POST /beads/:id/assign - Assign to user\n\n## New Types\n- BeadDetail (full bead with deps, comments)\n- DependencyInfo (id, title, status, direction)\n- Comment (id, author, content, created_at)\n\n## Implementation\n- Wrap bd show, bd dep list/add/rm, bd comments commands\n- Parse dependency tree output","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-07T14:18:19.677932-06:00","created_by":"erik","updated_at":"2026-01-07T14:18:19.677932-06:00"}
{"id":"gtdispat-256","title":"Frontend: Create convoy modal with issue picker","description":"Build a proper create convoy modal that lets users select issues to track.\n\n## Modal Design\n- Triggered by 'New Convoy' button\n- Multi-step or single form\n\n## Fields\n1. **Convoy Name** (required)\n   - Text input\n   - Auto-suggest from first selected issue title\n\n2. **Issue Picker** (required, multi-select)\n   - Searchable list of available issues\n   - Show: ID, title, status, rig\n   - Filter by: rig, status, type\n   - Checkbox selection\n   - Selected issues shown as chips above\n\n3. **Notify Address** (optional)\n   - Dropdown/input for notification target\n   - Default options: mayor/, ops/\n   - Custom address option\n\n4. **Molecule** (optional, advanced)\n   - Link to existing molecule\n   - Collapsed by default\n\n## Behavior\n- Validate at least one issue selected\n- Show preview of convoy before creation\n- Loading state during creation\n- Success: close modal, select new convoy\n- Error: show inline error, keep modal open\n\n## API\n- GET /beads?status=open for issue list\n- POST /convoys for creation","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-07T09:26:28.675648-06:00","created_by":"erik","updated_at":"2026-01-07T09:40:59.406658-06:00","closed_at":"2026-01-07T09:40:59.406658-06:00","close_reason":"Implemented CreateConvoyModal with: searchable issue picker with checkbox selection, name input, notify address option, form validation, loading states, and error handling. Modal opens from New Convoy button and auto-selects created convoy.","dependencies":[{"issue_id":"gtdispat-256","depends_on_id":"gtdispat-sa8","type":"blocks","created_at":"2026-01-07T09:26:42.709668-06:00","created_by":"erik"}]}
{"id":"gtdispat-2cr","title":"Epic: Dispatch (Mayor Chat)","description":"Implement the Dispatch page with actual Mayor interaction. Phase 1: subprocess spawning with context injection.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-06T10:01:28.109715-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.145281-06:00","closed_at":"2026-01-06T10:37:11.9836-06:00","close_reason":"Dispatch (Mayor Chat) implemented: SSE streaming, session management, message handling, frontend wired"}
{"id":"gtdispat-2cr.1","title":"Design Dispatch backend service","description":"Create src/backend/src/services/dispatch.ts with subprocess spawning logic. Define how to inject town context and capture output.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T10:02:15.33019-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.144313-06:00","closed_at":"2026-01-06T10:36:14.195433-06:00","close_reason":"Dispatch backend service designed with session management, message handling, and SSE streaming","dependencies":[{"issue_id":"gtdispat-2cr.1","depends_on_id":"gtdispat-2cr","type":"parent-child","created_at":"2026-01-06T10:02:15.330712-06:00","created_by":"erik"}]}
{"id":"gtdispat-2cr.2","title":"Add Dispatch SSE endpoint","description":"Implement POST /api/dispatch/chat that spawns Claude subprocess and streams responses via SSE. Track session state.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T10:02:15.433318-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.14406-06:00","closed_at":"2026-01-06T10:36:49.838225-06:00","close_reason":"Dispatch SSE endpoint already implemented at /api/stream/dispatch with session management and message broadcasting","dependencies":[{"issue_id":"gtdispat-2cr.2","depends_on_id":"gtdispat-2cr","type":"parent-child","created_at":"2026-01-06T10:02:15.433779-06:00","created_by":"erik"},{"issue_id":"gtdispat-2cr.2","depends_on_id":"gtdispat-2cr.1","type":"blocks","created_at":"2026-01-06T10:02:29.950688-06:00","created_by":"erik"}]}
{"id":"gtdispat-2cr.3","title":"Wire Dispatch frontend to SSE stream","description":"Update Dispatch.tsx to connect to SSE endpoint, display streaming responses, show actions taken.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T10:02:15.537743-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.143823-06:00","closed_at":"2026-01-06T10:37:00.444315-06:00","close_reason":"Dispatch frontend already wired to SSE stream with real-time message updates, connection status, and Mayor-styled responses","dependencies":[{"issue_id":"gtdispat-2cr.3","depends_on_id":"gtdispat-2cr","type":"parent-child","created_at":"2026-01-06T10:02:15.538427-06:00","created_by":"erik"},{"issue_id":"gtdispat-2cr.3","depends_on_id":"gtdispat-2cr.2","type":"blocks","created_at":"2026-01-06T10:02:30.001676-06:00","created_by":"erik"}]}
{"id":"gtdispat-2cr.4","title":"Add Dispatch transcript persistence","description":"Store dispatch conversations locally (localStorage or file). Allow resuming conversations, link to created beads/convoys.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T10:02:15.642071-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.145516-06:00","closed_at":"2026-01-06T10:41:53.777155-06:00","close_reason":"Dispatch transcript persistence: auto-save to .dispatch/transcripts/, list/load APIs, session end saves final state","dependencies":[{"issue_id":"gtdispat-2cr.4","depends_on_id":"gtdispat-2cr","type":"parent-child","created_at":"2026-01-06T10:02:15.642621-06:00","created_by":"erik"}]}
{"id":"gtdispat-35u","title":"Epic: Backend API Implementation","description":"Implement all backend API endpoints to wrap gt/bd CLI commands. This epic covers making the API actually functional against a real Gas Town installation.","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-06T10:01:27.890115-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.143527-06:00","closed_at":"2026-01-06T10:37:11.859228-06:00","close_reason":"Backend API complete: status, convoys, beads, actions, SSE streaming all implemented"}
{"id":"gtdispat-35u.1","title":"Install backend dependencies and verify build","description":"Run npm install in src/backend, fix any TypeScript errors, ensure npm run dev starts without errors.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-06T10:01:44.687865-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.142527-06:00","closed_at":"2026-01-06T10:25:36.581392-06:00","close_reason":"Backend deps installed, TypeScript passes, town root detection added","dependencies":[{"issue_id":"gtdispat-35u.1","depends_on_id":"gtdispat-35u","type":"parent-child","created_at":"2026-01-06T10:01:44.688577-06:00","created_by":"erik"}]}
{"id":"gtdispat-35u.2","title":"Implement town root detection","description":"Add logic to detect GT_TOWN_ROOT from environment or auto-detect from cwd. The backend needs to know where the Gas Town installation is.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-06T10:01:44.781904-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.142285-06:00","closed_at":"2026-01-06T10:25:36.682112-06:00","close_reason":"Town root detection implemented via GT_TOWN_ROOT env var and .gastown directory walk","dependencies":[{"issue_id":"gtdispat-35u.2","depends_on_id":"gtdispat-35u","type":"parent-child","created_at":"2026-01-06T10:01:44.782353-06:00","created_by":"erik"}]}
{"id":"gtdispat-35u.3","title":"Test and fix status endpoint","description":"Verify GET /api/status calls gt status --json correctly and returns proper data. Handle errors gracefully when Gas Town is not running.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-06T10:01:44.888113-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.142016-06:00","closed_at":"2026-01-06T10:27:48.895108-06:00","close_reason":"Status endpoint working: returns {initialized: false, error} when no Gas Town workspace found, caches successful responses. Backend starts cleanly on port 3001.","dependencies":[{"issue_id":"gtdispat-35u.3","depends_on_id":"gtdispat-35u","type":"parent-child","created_at":"2026-01-06T10:01:44.888616-06:00","created_by":"erik"},{"issue_id":"gtdispat-35u.3","depends_on_id":"gtdispat-35u.1","type":"blocks","created_at":"2026-01-06T10:02:28.912642-06:00","created_by":"erik"},{"issue_id":"gtdispat-35u.3","depends_on_id":"gtdispat-35u.2","type":"blocks","created_at":"2026-01-06T10:02:28.964448-06:00","created_by":"erik"}]}
{"id":"gtdispat-35u.4","title":"Test and fix convoy endpoints","description":"Verify convoy list, status, create, add endpoints work correctly. Test against real Gas Town data.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-06T10:01:44.985897-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.141744-06:00","closed_at":"2026-01-06T10:28:34.194758-06:00","close_reason":"Convoy endpoints implemented and return proper errors when not in Gas Town workspace","dependencies":[{"issue_id":"gtdispat-35u.4","depends_on_id":"gtdispat-35u","type":"parent-child","created_at":"2026-01-06T10:01:44.986417-06:00","created_by":"erik"},{"issue_id":"gtdispat-35u.4","depends_on_id":"gtdispat-35u.3","type":"blocks","created_at":"2026-01-06T10:02:29.076765-06:00","created_by":"erik"}]}
{"id":"gtdispat-35u.5","title":"Test and fix beads endpoints","description":"Verify beads list, ready, blocked, show, create, update, close endpoints work correctly. Test filtering.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-06T10:01:45.091373-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.141481-06:00","closed_at":"2026-01-06T10:28:34.249249-06:00","close_reason":"Beads endpoints working: tested list (18 beads), ready (10 ready), showing correct JSON responses","dependencies":[{"issue_id":"gtdispat-35u.5","depends_on_id":"gtdispat-35u","type":"parent-child","created_at":"2026-01-06T10:01:45.091882-06:00","created_by":"erik"},{"issue_id":"gtdispat-35u.5","depends_on_id":"gtdispat-35u.3","type":"blocks","created_at":"2026-01-06T10:02:29.127153-06:00","created_by":"erik"}]}
{"id":"gtdispat-35u.6","title":"Test and fix action endpoints","description":"Verify start, shutdown, sling, rig add, crew add, nudge, doctor endpoints work correctly.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-06T10:01:45.196077-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.141232-06:00","closed_at":"2026-01-06T10:28:34.302364-06:00","close_reason":"Action endpoints implemented, return proper errors for gt commands when not in Gas Town workspace, doctor endpoint returns stdout/stderr","dependencies":[{"issue_id":"gtdispat-35u.6","depends_on_id":"gtdispat-35u","type":"parent-child","created_at":"2026-01-06T10:01:45.196566-06:00","created_by":"erik"},{"issue_id":"gtdispat-35u.6","depends_on_id":"gtdispat-35u.3","type":"blocks","created_at":"2026-01-06T10:02:29.181777-06:00","created_by":"erik"}]}
{"id":"gtdispat-35u.7","title":"Add SSE endpoint for log streaming","description":"Implement GET /api/stream/logs/:source that tails gt log output and streams via Server-Sent Events.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T10:01:45.300929-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.14503-06:00","closed_at":"2026-01-06T10:36:14.141837-06:00","close_reason":"SSE endpoints implemented: /api/stream/logs and /api/stream/dispatch with client management, buffering, and broadcast","dependencies":[{"issue_id":"gtdispat-35u.7","depends_on_id":"gtdispat-35u","type":"parent-child","created_at":"2026-01-06T10:01:45.301427-06:00","created_by":"erik"}]}
{"id":"gtdispat-3h5","title":"Backend: SSE bead updates subscription","description":"Add SSE endpoint for real-time bead updates.\n\n## Endpoint\nGET /stream/beads (SSE stream)\n\n## Events\n1. **bead:created** - New bead created\n2. **bead:updated** - Bead fields changed\n3. **bead:closed** - Bead closed\n4. **bead:reopened** - Bead reopened\n5. **dep:added** - Dependency added\n6. **dep:removed** - Dependency removed\n7. **comment:added** - New comment\n\n## Implementation\n- BeadStreamer class in streaming.ts\n- Poll bd list periodically (5s)\n- Diff against cached state\n- Emit events for changes\n\n## Frontend Integration\n- useBeadSubscription hook\n- Auto-refresh queries on events","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-07T14:19:12.05389-06:00","created_by":"erik","updated_at":"2026-01-07T14:19:12.05389-06:00"}
{"id":"gtdispat-3ky","title":"Beads Screen Redesign","description":"Complete redesign of the beads screen with master-detail layout, rich data display, and full action support.\n\n## Goals\n- Replace current sparse list with interactive master-detail view\n- Show dependencies, comments, activity history\n- Enable all bead actions (create, update, close, assign, manage deps)\n- Real-time updates via SSE\n\n## Key Features\n1. Master-detail layout (list + detail panel)\n2. Rich bead list with status badges, priority, type indicators\n3. Full detail panel with description, deps, comments\n4. Create bead modal with all fields\n5. Dependency management UI\n6. Action buttons for all bead operations\n7. SSE for real-time updates\n\n## References\n- Current UI: src/frontend/src/pages/Beads.tsx\n- Backend service: src/backend/src/services/beads.ts\n- bd commands: create, update, close, dep add/rm/tree","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-07T14:18:09.503946-06:00","created_by":"erik","updated_at":"2026-01-07T14:18:09.503946-06:00"}
{"id":"gtdispat-46r","title":"Frontend: Create bead modal","description":"Build modal for creating new beads.\n\n## Form Fields\n- Title (required)\n- Description (markdown textarea)\n- Type dropdown (bug, feature, task, epic, chore)\n- Priority dropdown (P0-P4)\n- Assignee (optional)\n- Labels (multi-select/tags)\n- Parent issue (optional, for epics)\n- Initial dependencies (optional issue picker)\n\n## Features\n- Form validation\n- Type-specific defaults (bugs = P1, features = P2)\n- Parent picker filtered to epics\n- Dependency picker with search\n- Success callback to select new bead\n\n## API\n- POST /beads (create bead)","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-07T14:18:45.686561-06:00","created_by":"erik","updated_at":"2026-01-07T14:18:45.686561-06:00"}
{"id":"gtdispat-470","title":"Backend: SSE agent updates subscription","description":"Add SSE endpoint for real-time agent updates.\n\n## Endpoint\nGET /stream/agents (SSE stream)\n\n## Events\n1. **agent:status** - Agent running/stopped state changed\n2. **agent:work** - Agent work assignment changed\n3. **agent:state** - Agent state changed (idle/working/stuck)\n4. **agent:mail** - New mail received\n5. **polecat:added** - New polecat spawned\n6. **polecat:removed** - Polecat removed\n7. **rig:status** - Rig started/stopped\n\n## Implementation\n- AgentStreamer class in streaming.ts\n- Poll gt status periodically (5s)\n- Diff against cached state\n- Emit events for changes\n\n## Frontend Integration\n- useAgentSubscription hook\n- Auto-refresh agent queries on events\n- Update tree indicators in real-time","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-07T14:39:33.406306-06:00","created_by":"erik","updated_at":"2026-01-07T14:39:33.406306-06:00"}
{"id":"gtdispat-4l4","title":"Frontend: Convoy detail panel with tracked issues table","description":"Build the convoy detail panel showing full information and tracked issues.\n\n## Header Section\n- Convoy title (large)\n- ID (copyable)\n- Status badge with state-specific styling\n- Created/Updated timestamps\n- Formula name (if attached)\n- Notify address (if set)\n\n## Progress Section\n- Visual breakdown of tracked issues by status:\n  - Open (gray)\n  - In Progress (amber)\n  - Hooked (blue)\n  - Closed (green)\n- Percentage complete\n- Estimated completion (if available)\n\n## Tracked Issues Table\nColumns:\n- Status icon (○/▶/✓)\n- Issue ID (link to beads page)\n- Title\n- Status text\n- Assignee\n- Worker (with activity dot)\n- Time in state\n- Actions (remove from convoy)\n\nFeatures:\n- Sortable columns\n- Status filter chips\n- Expandable rows for issue details\n- Empty state handling\n\n## Components\n- ConvoyHeader\n- ConvoyProgressChart\n- TrackedIssuesTable\n- IssueStatusIcon\n- WorkerBadge","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-07T09:25:55.385968-06:00","created_by":"erik","updated_at":"2026-01-07T09:37:47.238333-06:00","closed_at":"2026-01-07T09:37:47.238333-06:00","close_reason":"Merged into gtdispat-hr6 - detail panel with tracked issues table implemented as part of master-detail layout.","dependencies":[{"issue_id":"gtdispat-4l4","depends_on_id":"gtdispat-sa8","type":"blocks","created_at":"2026-01-07T09:26:42.651393-06:00","created_by":"erik"},{"issue_id":"gtdispat-4l4","depends_on_id":"gtdispat-hr6","type":"blocks","created_at":"2026-01-07T09:26:42.875989-06:00","created_by":"erik"}]}
{"id":"gtdispat-4p4","title":"Epic: Frontend Integration","description":"Wire up all frontend pages to the backend API. Make the UI actually display real data and execute real actions.","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-06T10:01:27.994452-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.143175-06:00","closed_at":"2026-01-06T10:37:11.923298-06:00","close_reason":"Frontend integration complete: all pages wired to API with proper error handling and StatusResponse support"}
{"id":"gtdispat-4p4.1","title":"Install frontend dependencies and verify build","description":"Run npm install in src/frontend, fix any TypeScript errors, ensure npm run dev starts Vite without errors.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-06T10:02:02.750852-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.140935-06:00","closed_at":"2026-01-06T10:25:36.783865-06:00","close_reason":"Frontend deps installed, TypeScript passes, Vite build succeeds","dependencies":[{"issue_id":"gtdispat-4p4.1","depends_on_id":"gtdispat-4p4","type":"parent-child","created_at":"2026-01-06T10:02:02.751347-06:00","created_by":"erik"}]}
{"id":"gtdispat-4p4.2","title":"Wire Overview page to live API","description":"Connect Overview page to /api/status. Display real town data, handle loading/error states, make start/shutdown buttons work.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-06T10:02:02.859766-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.140512-06:00","closed_at":"2026-01-06T10:31:29.125111-06:00","close_reason":"Overview page wired: shows 'not configured' state when Gas Town unavailable, displays stats/agents/rigs when connected","dependencies":[{"issue_id":"gtdispat-4p4.2","depends_on_id":"gtdispat-4p4","type":"parent-child","created_at":"2026-01-06T10:02:02.860276-06:00","created_by":"erik"},{"issue_id":"gtdispat-4p4.2","depends_on_id":"gtdispat-4p4.1","type":"blocks","created_at":"2026-01-06T10:02:29.276593-06:00","created_by":"erik"},{"issue_id":"gtdispat-4p4.2","depends_on_id":"gtdispat-35u.3","type":"blocks","created_at":"2026-01-06T10:02:29.327405-06:00","created_by":"erik"}]}
{"id":"gtdispat-4p4.3","title":"Wire Convoys page to live API","description":"Connect Convoys page to /api/convoys. List real convoys, show details on click, implement create convoy modal.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-06T10:02:02.956682-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.140197-06:00","closed_at":"2026-01-06T10:31:29.178279-06:00","close_reason":"Convoys page wired to API with error handling and refresh","dependencies":[{"issue_id":"gtdispat-4p4.3","depends_on_id":"gtdispat-4p4","type":"parent-child","created_at":"2026-01-06T10:02:02.95715-06:00","created_by":"erik"},{"issue_id":"gtdispat-4p4.3","depends_on_id":"gtdispat-4p4.1","type":"blocks","created_at":"2026-01-06T10:02:29.427784-06:00","created_by":"erik"},{"issue_id":"gtdispat-4p4.3","depends_on_id":"gtdispat-35u.4","type":"blocks","created_at":"2026-01-06T10:02:29.479551-06:00","created_by":"erik"}]}
{"id":"gtdispat-4p4.4","title":"Wire Beads page to live API","description":"Connect Beads page to /api/beads. List real beads, implement filters, show details, implement create bead modal.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-06T10:02:03.060215-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.139818-06:00","closed_at":"2026-01-06T10:31:29.232432-06:00","close_reason":"Beads page wired: list/ready views, filters, proper error display","dependencies":[{"issue_id":"gtdispat-4p4.4","depends_on_id":"gtdispat-4p4","type":"parent-child","created_at":"2026-01-06T10:02:03.060709-06:00","created_by":"erik"},{"issue_id":"gtdispat-4p4.4","depends_on_id":"gtdispat-4p4.1","type":"blocks","created_at":"2026-01-06T10:02:29.590047-06:00","created_by":"erik"},{"issue_id":"gtdispat-4p4.4","depends_on_id":"gtdispat-35u.5","type":"blocks","created_at":"2026-01-06T10:02:29.643514-06:00","created_by":"erik"}]}
{"id":"gtdispat-4p4.5","title":"Wire Agents page to live API","description":"Connect Agents page to /api/status. Show real agents with status indicators, implement nudge functionality.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-06T10:02:03.164459-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.138907-06:00","closed_at":"2026-01-06T10:31:56.322698-06:00","close_reason":"Agents page wired to status API, displays global agents and rig-level agents with proper StatusResponse handling","dependencies":[{"issue_id":"gtdispat-4p4.5","depends_on_id":"gtdispat-4p4","type":"parent-child","created_at":"2026-01-06T10:02:03.164922-06:00","created_by":"erik"},{"issue_id":"gtdispat-4p4.5","depends_on_id":"gtdispat-4p4.2","type":"blocks","created_at":"2026-01-06T10:02:29.747875-06:00","created_by":"erik"}]}
{"id":"gtdispat-4p4.6","title":"Implement Logs page with SSE streaming","description":"Connect Logs page to /api/stream/logs. Implement real-time log tailing, search/filter, source switching.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T10:02:03.268729-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.144798-06:00","closed_at":"2026-01-06T10:36:24.942759-06:00","close_reason":"Logs page implemented with SSE streaming: live connection status, auto-scroll, filtering by source, search, and download","dependencies":[{"issue_id":"gtdispat-4p4.6","depends_on_id":"gtdispat-4p4","type":"parent-child","created_at":"2026-01-06T10:02:03.269223-06:00","created_by":"erik"},{"issue_id":"gtdispat-4p4.6","depends_on_id":"gtdispat-35u.7","type":"blocks","created_at":"2026-01-06T10:02:29.849648-06:00","created_by":"erik"}]}
{"id":"gtdispat-4p4.7","title":"Wire Settings page","description":"Make health check button work, implement town root switching, show real town info.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T10:02:03.370702-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.144568-06:00","closed_at":"2026-01-06T10:32:00.356549-06:00","close_reason":"Settings page wired to status API with doctor mutation working","dependencies":[{"issue_id":"gtdispat-4p4.7","depends_on_id":"gtdispat-4p4","type":"parent-child","created_at":"2026-01-06T10:02:03.371211-06:00","created_by":"erik"}]}
{"id":"gtdispat-4p4.8","title":"Complete Onboarding wizard flow","description":"Make onboarding wizard actually call rig add, crew add APIs. Validate inputs, show progress, handle errors.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T10:02:03.472642-06:00","created_by":"erik","updated_at":"2026-01-07T09:02:07.145721-06:00","closed_at":"2026-01-06T10:41:53.723174-06:00","close_reason":"Onboarding wizard enhanced: welcome step with connection check, skip option, proper navigation, step skip buttons","dependencies":[{"issue_id":"gtdispat-4p4.8","depends_on_id":"gtdispat-4p4","type":"parent-child","created_at":"2026-01-06T10:02:03.474246-06:00","created_by":"erik"}]}
{"id":"gtdispat-55p","title":"Frontend: Bead detail panel with deps and comments","description":"Build comprehensive bead detail panel.\n\n## Sections\n1. **Header**\n   - Title (editable inline)\n   - Status badge\n   - Priority dropdown\n   - Type badge\n   - Action buttons\n\n2. **Description**\n   - Markdown rendered description\n   - Edit mode toggle\n\n3. **Metadata Grid**\n   - Created/Updated dates\n   - Assignee (with assign button)\n   - Labels (chip list)\n   - Parent (if any)\n\n4. **Dependencies Panel**\n   - 'Blocked by' section (issues this depends on)\n   - 'Blocks' section (issues that depend on this)\n   - Add dependency button\n   - Remove dependency (X on each)\n\n5. **Comments Section**\n   - Chronological comment list\n   - Add comment form\n   - Comment author/timestamp\n\n## Data Fetching\n- useQuery for bead detail\n- Separate queries for deps, comments","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-07T14:18:37.53278-06:00","created_by":"erik","updated_at":"2026-01-07T14:18:37.53278-06:00"}
{"id":"gtdispat-5tp","title":"Logs Screen Redesign","description":"Complete redesign of the logs screen with proper per-agent log sources and enhanced filtering.\n\n## Current Issues\n- Individual source filters (deacon, mayor, witness, etc.) show nothing\n- Log source is 'gt-log' or 'daemon', not the actual agent name\n- No way to see logs from specific agent terminals\n- Limited log parsing and categorization\n\n## Goals\n- Per-agent log streaming (each agent's terminal output)\n- Proper source categorization in gt log events\n- Enhanced filtering by agent, rig, level, time range\n- Log aggregation from multiple sources\n- Search with highlighting\n\n## Key Features\n1. Multi-source log aggregation (gt log + per-agent peek)\n2. Proper source extraction from gt log events\n3. Agent terminal log streaming\n4. Advanced filtering (agent, rig, level, time)\n5. Log search with result highlighting\n6. Log export with filters applied\n7. Severity-based alerts/notifications\n\n## References\n- Current UI: src/frontend/src/pages/Logs.tsx\n- Backend: src/backend/src/services/streaming.ts\n- gt commands: log, peek","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-07T14:43:11.510947-06:00","created_by":"erik","updated_at":"2026-01-07T14:43:11.510947-06:00"}
{"id":"gtdispat-7np","title":"Frontend: Log export and persistence","description":"Enhance log export and add persistence features.\n\n## Export Enhancements\n- Export with current filters applied\n- Multiple formats: TXT, JSON, CSV\n- Include metadata (source, level, timestamp)\n- Export selection only option\n- Filename with date and filters\n\n## Log Persistence\n- Store logs in localStorage/IndexedDB\n- Configurable retention (last N logs or time period)\n- Survive page refresh\n- Load historical logs on connect\n\n## Export Options Modal\n- Format selector\n- Date range picker\n- Source filter\n- Include/exclude fields\n- Preview before download\n\n## API Support\n- GET /logs/export - Server-side export with filters\n- Query params: format, from, to, sources, levels\n- Streaming response for large exports","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-07T14:44:04.194117-06:00","created_by":"erik","updated_at":"2026-01-07T14:44:04.194117-06:00"}
{"id":"gtdispat-a4s","title":"Backend: Enhanced agent API endpoints","description":"Add backend API endpoints for richer agent data and operations.\n\n## New Endpoints\n- GET /agents - List all agents with detailed status\n- GET /agents/:address - Single agent detail\n- GET /agents/:address/mail - Agent mailbox\n- GET /agents/:address/peek - Recent terminal output\n- POST /agents/:address/nudge - Send nudge message\n- GET /rigs - List rigs with agent info\n- GET /rigs/:name/polecats - List polecats in rig\n- POST /rigs/:name/polecats - Add polecat\n- DELETE /rigs/:name/polecats/:name - Remove polecat\n- POST /rigs/:name/polecats/:name/nuke - Nuke polecat\n\n## New Types  \n- AgentDetail (extended agent with mail, work details)\n- MailMessage (from, subject, timestamp, read)\n- PolecatStatus (name, state, work, branch, worktree)\n- RigDetail (name, path, agents, polecats)\n\n## Implementation\n- Wrap gt status, gt polecat list/status, gt nudge, gt peek, gt mail","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-07T14:38:17.780496-06:00","created_by":"erik","updated_at":"2026-01-07T14:38:17.780496-06:00"}
{"id":"gtdispat-bm7","title":"Frontend: Redesign logs page with master-detail","description":"Redesign logs page with master-detail layout for better navigation.\n\n## Layout\n- Left panel (240px): Source tree/list\n- Right panel (flex): Log viewer\n\n## Source Tree\n- All Logs (aggregated)\n- System\n  - Daemon\n  - gt-log events\n- Global Agents\n  - Mayor\n  - Deacon\n- Per Rig (expandable)\n  - Witness\n  - Refinery\n  - Polecats (list)\n\n## Source Selection\n- Click to filter to that source\n- Multi-select with Cmd/Ctrl click\n- Visual indicator for active sources\n- Unread/new log count badges\n\n## Log Viewer Enhancements\n- Virtual scrolling for performance\n- Sticky timestamp headers\n- Log level icons\n- Agent avatar/badge per line\n- Expand/collapse long messages\n\n## Components\n- LogSourceTree - Collapsible source selector\n- LogSourceItem - Single source with badge\n- LogViewer - Virtualized log display\n- LogEntry - Single log line component","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-07T14:43:44.591233-06:00","created_by":"erik","updated_at":"2026-01-07T14:43:44.591233-06:00"}
{"id":"gtdispat-bnl","title":"Backend: Add per-agent log streaming","description":"Add ability to stream logs from individual agent terminals.\n\n## New Endpoints\n- GET /stream/logs/:agent - SSE stream for specific agent's terminal\n- GET /logs/:agent/recent - Recent lines from agent terminal (via peek)\n\n## Implementation\n- AgentLogStreamer class that wraps 'gt peek -f \u003cagent\u003e'\n- Map agent address to tmux session\n- Parse and categorize output lines\n- Handle multiple concurrent agent streams\n\n## Agent Session Mapping\n- mayor -\u003e gt-mayor\n- deacon -\u003e gt-deacon\n- \u003crig\u003e/witness -\u003e gt-\u003crig\u003e-witness\n- \u003crig\u003e/refinery -\u003e gt-\u003crig\u003e-refinery\n- \u003crig\u003e/\u003cpolecat\u003e -\u003e gt-\u003crig\u003e-\u003cpolecat\u003e\n\n## Output Parsing\n- Detect tool calls, thinking, responses\n- Extract timestamps if present\n- Categorize by severity (error keywords, etc.)\n\n## Resource Management\n- Start streaming when first client connects to agent\n- Stop when no clients for that agent\n- Limit concurrent streams","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-07T14:43:33.398657-06:00","created_by":"erik","updated_at":"2026-01-07T14:43:33.398657-06:00"}
{"id":"gtdispat-c03","title":"Frontend: Synthesis workflow UI","description":"Build UI for convoy synthesis workflow support.\n\n## Synthesis Panel (in convoy detail)\nShows when convoy has formula or multiple legs.\n\n### States\n\n**Not Ready**\n- Show list of incomplete legs\n- Each leg shows: title, status, assignee\n- Progress bar for overall completion\n- Disabled 'Start Synthesis' button with tooltip\n\n**Ready**\n- Green 'All legs complete' indicator\n- Active 'Start Synthesis' button\n- Leg outputs preview (collapsible)\n\n**In Progress**\n- Show synthesis bead status\n- Link to synthesis bead\n- Worker info if assigned\n\n**Complete**\n- Show synthesis output (if available)\n- Link to output file/content\n\n## Start Synthesis Modal\n- Target rig selector (dropdown)\n- Review ID input (auto-filled from convoy)\n- Dry-run option (preview only)\n- Confirm button\n\n## API Calls\n- GET /synthesis/:id/status\n- POST /convoys/:id/synthesis","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-07T09:26:28.87966-06:00","created_by":"erik","updated_at":"2026-01-07T09:53:01.173125-06:00","closed_at":"2026-01-07T09:53:01.173125-06:00","close_reason":"Implemented SynthesisPanel with ready/not-ready states, incomplete legs list, start modal with rig selector","dependencies":[{"issue_id":"gtdispat-c03","depends_on_id":"gtdispat-sa8","type":"blocks","created_at":"2026-01-07T09:26:42.820456-06:00","created_by":"erik"},{"issue_id":"gtdispat-c03","depends_on_id":"gtdispat-4l4","type":"blocks","created_at":"2026-01-07T09:26:42.983871-06:00","created_by":"erik"}]}
{"id":"gtdispat-d45","title":"Convoy Screen Redesign","description":"Complete redesign of the convoy screen with master-detail layout, rich data display, and full action support.\n\n## Goals\n- Replace current sparse list with interactive master-detail view\n- Show all available convoy data (workers, synthesis status, stranded state)\n- Enable all convoy actions (create, add issues, close, synthesis)\n- Real-time updates via SSE\n\n## Key Features\n1. Master-detail layout (list + detail panel)\n2. Rich convoy list with status badges, progress, worker counts\n3. Full tracked issues table with worker info\n4. Create convoy modal with issue picker\n5. Synthesis workflow support\n6. Action buttons for all convoy operations\n\n## References\n- gastown convoy commands: internal/cmd/convoy.go\n- Current UI: src/frontend/src/pages/Convoys.tsx\n- Backend service: src/backend/src/services/convoys.ts","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-07T09:25:17.930383-06:00","created_by":"erik","updated_at":"2026-01-07T14:17:08.921378-06:00","closed_at":"2026-01-07T14:17:08.921378-06:00","close_reason":"Convoy screen redesign complete: master-detail layout, create modal, action buttons, synthesis panel, SSE real-time updates","dependencies":[{"issue_id":"gtdispat-d45","depends_on_id":"gtdispat-sa8","type":"tracks","created_at":"2026-01-07T09:26:36.177926-06:00","created_by":"erik"},{"issue_id":"gtdispat-d45","depends_on_id":"gtdispat-hr6","type":"tracks","created_at":"2026-01-07T09:26:36.23179-06:00","created_by":"erik"},{"issue_id":"gtdispat-d45","depends_on_id":"gtdispat-4l4","type":"tracks","created_at":"2026-01-07T09:26:36.285577-06:00","created_by":"erik"},{"issue_id":"gtdispat-d45","depends_on_id":"gtdispat-256","type":"tracks","created_at":"2026-01-07T09:26:36.340581-06:00","created_by":"erik"},{"issue_id":"gtdispat-d45","depends_on_id":"gtdispat-k5c","type":"tracks","created_at":"2026-01-07T09:26:36.391494-06:00","created_by":"erik"},{"issue_id":"gtdispat-d45","depends_on_id":"gtdispat-c03","type":"tracks","created_at":"2026-01-07T09:26:36.444708-06:00","created_by":"erik"},{"issue_id":"gtdispat-d45","depends_on_id":"gtdispat-0rz","type":"tracks","created_at":"2026-01-07T09:26:36.49694-06:00","created_by":"erik"}]}
{"id":"gtdispat-f95","title":"Frontend: Polecat management UI","description":"Build UI for managing polecats in rigs.\n\n## In Agent Tree\n- 'Add Polecat' button in polecat group header\n- Context menu on polecat: Remove, Nuke\n\n## Add Polecat Modal\n- Rig selector (if multiple rigs)\n- Polecat name input\n- Auto-generate name option\n- Confirm button\n\n## Remove Polecat\n- Confirmation dialog\n- Shows what will be removed\n- Warning about in-progress work\n\n## Nuke Polecat (destructive)\n- Double confirmation required\n- Warning about data loss\n- Shows what will be destroyed:\n  - Session\n  - Worktree\n  - Branch\n  - Agent bead\n\n## Polecat Status in Detail Panel\n- Git branch\n- Worktree path\n- Current state (working/idle/stuck)\n- Recovery check status\n\n## API Calls\n- POST /rigs/:name/polecats { name? }\n- DELETE /rigs/:name/polecats/:name\n- POST /rigs/:name/polecats/:name/nuke","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-07T14:38:56.455054-06:00","created_by":"erik","updated_at":"2026-01-07T14:38:56.455054-06:00"}
{"id":"gtdispat-hr6","title":"Frontend: Master-detail layout for convoys page","description":"Replace the current simple list with a responsive master-detail layout.\n\n## Layout\n- Left panel (1/3 width): Convoy list with compact cards\n- Right panel (2/3 width): Selected convoy detail view\n- Collapsible on mobile (stack vertically)\n\n## Convoy List Panel\n- Compact convoy cards showing:\n  - Title + ID\n  - Status badge (Active/Stranded/Synthesis-ready/Closed)\n  - Mini progress indicator (donut or segmented bar)\n  - Worker count badge\n  - Last activity time\n- Click to select and show in detail panel\n- Visual highlight on selected convoy\n- Sortable by: status, date, name, progress\n- Filterable by: status, has workers\n\n## Detail Panel\n- Empty state when no convoy selected\n- Header with title, full ID, status\n- Tabbed sections or scrollable content\n\n## Components to Create\n- ConvoyListPanel\n- ConvoyCard (compact)\n- ConvoyDetailPanel\n- ConvoyStatusBadge\n- MiniProgressIndicator","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-07T09:25:55.28158-06:00","created_by":"erik","updated_at":"2026-01-07T09:37:39.366657-06:00","closed_at":"2026-01-07T09:37:39.366657-06:00","close_reason":"Implemented master-detail layout for convoys page with: ConvoyCard component with status badges and mini progress indicators, ConvoyDetailPanel with full convoy info, TrackedIssuesTable showing worker status, and responsive split-pane layout.","dependencies":[{"issue_id":"gtdispat-hr6","depends_on_id":"gtdispat-sa8","type":"blocks","created_at":"2026-01-07T09:26:42.592752-06:00","created_by":"erik"}]}
{"id":"gtdispat-k5c","title":"Frontend: Convoy action buttons and workflows","description":"Implement action buttons for convoy operations.\n\n## Actions in Detail Panel Header\n1. **Add Issues** button\n   - Opens issue picker modal (reuse from create)\n   - Adds selected issues to convoy\n   - Works on closed convoys (reopens them)\n\n2. **Close Convoy** button (for open convoys)\n   - Confirmation dialog with reason input\n   - Calls POST /convoys/:id/close\n\n3. **Reopen** button (for closed convoys)\n   - Adds issues flow (which reopens automatically)\n\n## Synthesis Section (when formula attached)\n- **Synthesis Status** indicator\n  - Not ready: show incomplete legs\n  - Ready: green indicator + Start button\n- **Start Synthesis** button\n  - Calls POST /convoys/:id/synthesis\n  - Shows target rig selector\n  - Loading/success states\n\n## Tracked Issue Row Actions\n- **Remove from convoy** (x button)\n  - Confirmation tooltip\n  - Calls DELETE /convoys/:id/issues/:issueId\n\n## Toast Notifications\n- Success/error feedback for all actions\n- Use existing toast system or add one","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-07T09:26:28.771123-06:00","created_by":"erik","updated_at":"2026-01-07T09:46:46.081663-06:00","closed_at":"2026-01-07T09:46:46.081663-06:00","close_reason":"Completed action buttons: Add Issues inline picker, Close Convoy confirmation, Remove Issue from table","dependencies":[{"issue_id":"gtdispat-k5c","depends_on_id":"gtdispat-sa8","type":"blocks","created_at":"2026-01-07T09:26:42.768983-06:00","created_by":"erik"},{"issue_id":"gtdispat-k5c","depends_on_id":"gtdispat-4l4","type":"blocks","created_at":"2026-01-07T09:26:42.931965-06:00","created_by":"erik"}]}
{"id":"gtdispat-kq3","title":"Frontend: Terminal integration","description":"Integrate terminal view for agents.\n\n## In Detail Panel\n- Terminal preview section (last 20 lines via peek)\n- 'Open Full Terminal' button\n\n## Terminal Window\n- Reuse existing Terminal component\n- Pass agent address/session\n- Connect to /api/terminal/:sessionId\n\n## Quick Actions\n- Open in new tab\n- Refresh preview\n- Copy recent output\n\n## Session Mapping\n- Agent address -\u003e tmux session name\n- mayor -\u003e gt-mayor\n- deacon -\u003e gt-deacon  \n- rig/witness -\u003e gt-\u003crig\u003e-witness\n- rig/refinery -\u003e gt-\u003crig\u003e-refinery\n- rig/polecat -\u003e gt-\u003crig\u003e-\u003cpolecat\u003e\n\n## API\n- GET /agents/:address/peek - Recent output\n- Existing terminal streaming for full view","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-07T14:39:08.769484-06:00","created_by":"erik","updated_at":"2026-01-07T14:39:08.769484-06:00"}
{"id":"gtdispat-l65","title":"Agents Screen Redesign","description":"Complete redesign of the agents screen with master-detail layout, rich agent info, and interactive controls.\n\n## Goals\n- Replace current grid layout with interactive master-detail view\n- Show detailed agent status, work info, mail, terminal access\n- Enable agent actions (nudge, peek, terminal, spawn/kill polecat)\n- Real-time updates via SSE\n\n## Key Features\n1. Master-detail layout (agent tree + detail panel)\n2. Agent tree by rig (Global -\u003e Rig -\u003e Polecats)\n3. Rich detail panel with status, work, mail, actions\n4. Terminal integration (open agent terminal)\n5. Nudge modal for sending messages\n6. Polecat management (add/remove/nuke)\n7. SSE for real-time agent status updates\n\n## References\n- Current UI: src/frontend/src/pages/Agents.tsx  \n- gt commands: status, polecat list/add/remove/nuke, nudge, peek\n- Roles: mayor, deacon, witness, refinery, polecat, crew","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-07T14:38:08.429234-06:00","created_by":"erik","updated_at":"2026-01-07T14:38:08.429234-06:00"}
{"id":"gtdispat-l72","title":"Frontend: Nudge message modal","description":"Build modal for sending nudge messages to agents.\n\n## Trigger\n- 'Nudge' button in agent detail header\n- Right-click context menu on agent tree item\n\n## Modal Contents\n- To: Agent address (read-only, pre-filled)\n- Message: Textarea for message content\n- Common templates dropdown:\n  - 'Check your mail'\n  - 'Status update please'\n  - 'Priority work available'\n  - Custom...\n- Force DND override checkbox\n\n## Actions\n- Send button (calls POST /agents/:address/nudge)\n- Cancel button\n- Loading state during send\n- Success toast\n- Error handling\n\n## API\n- POST /agents/:address/nudge { message, force? }","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-07T14:38:46.552472-06:00","created_by":"erik","updated_at":"2026-01-07T14:38:46.552472-06:00"}
{"id":"gtdispat-ncd","title":"Frontend: Agent detail panel","description":"Build comprehensive agent detail panel.\n\n## Sections\n1. **Header**\n   - Agent name + role badge\n   - Address (copyable)\n   - Status dot + state label\n   - Action buttons\n\n2. **Current Work**\n   - Work title (links to bead)\n   - Work ID badge\n   - State (pending/in_progress/etc)\n   - Duration on current work\n\n3. **Mailbox**\n   - Unread/total count\n   - Recent messages list\n   - From, subject, timestamp\n   - Read/unread indicator\n   - Click to expand full message\n\n4. **Terminal Preview**\n   - Last N lines of output (via peek)\n   - Refresh button\n   - 'Open Terminal' button\n\n5. **Agent Info**\n   - Role description\n   - Rig assignment\n   - Session info (tmux)\n   - Worktree path (for polecats)\n\n## Data Fetching\n- useQuery for agent detail\n- Separate queries for mail, peek","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-07T14:38:37.915629-06:00","created_by":"erik","updated_at":"2026-01-07T14:38:37.915629-06:00"}
{"id":"gtdispat-oph","title":"Backend: Fix log source extraction from gt log","description":"Fix log source extraction so agent filters work properly.\n\n## Current Problem\n- gt log events parsed with source='gt-log'\n- Filter buttons expect source='deacon', 'mayor', etc.\n- No match, so filtered lists are empty\n\n## gt log Format Analysis\nEvent format: '○ 12:30:06 spawn northstar_coherence/witness'\n- The agent address is in the details portion\n- Need to extract: rig/agent from event details\n\n## Fix Required\nIn LogStreamer.addEntry(), parse the agent address from the message:\n- 'spawn greenplace/furiosa' -\u003e source='polecat', agent='greenplace/furiosa'\n- 'nudge mayor' -\u003e source='mayor'\n- 'wake gt-deacon' -\u003e source='deacon'\n- 'done northstar_coherence/witness' -\u003e source='witness'\n\n## New LogEntry Fields\n- source: Role category (mayor, deacon, witness, refinery, polecat, system)\n- agent: Full agent address (e.g., 'greenplace/furiosa')\n- rig: Rig name if applicable\n\n## Implementation\n- Update parsing regex in streaming.ts\n- Map agent addresses to source categories\n- Add agent/rig fields to LogEntry type","status":"open","priority":1,"issue_type":"bug","created_at":"2026-01-07T14:43:23.133336-06:00","created_by":"erik","updated_at":"2026-01-07T14:43:23.133336-06:00"}
{"id":"gtdispat-pts","title":"Frontend: Agent tree and master-detail layout","description":"Implement master-detail layout with agent tree navigation.\n\n## Layout\n- Left panel (280px): Agent tree organized by rig\n- Right panel (flex): Selected agent detail or empty state\n\n## Agent Tree Structure\n- Global (expandable)\n  - Mayor\n  - Deacon\n- Rig: \u003cname\u003e (expandable per rig)\n  - Witness\n  - Refinery  \n  - Polecats (sub-group)\n    - polecat-1\n    - polecat-2\n\n## Tree Item Display\n- Status indicator (running/stopped dot)\n- Agent name\n- Role badge (color-coded)\n- Work indicator if has_work\n- Unread mail count badge\n\n## Components\n- AgentTree - Collapsible tree view\n- AgentTreeItem - Single tree row\n- RoleBadge - Color-coded role indicator\n- StatusDot - Running/stopped indicator\n- EmptyDetailState - Placeholder","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-07T14:38:28.58897-06:00","created_by":"erik","updated_at":"2026-01-07T14:38:28.58897-06:00"}
{"id":"gtdispat-qs0","title":"Frontend: Bead action buttons and workflows","description":"Implement action buttons in bead detail panel.\n\n## Actions\n1. **Status Transitions**\n   - Open -\u003e In Progress (claim)\n   - In Progress -\u003e Closed (complete)\n   - Closed -\u003e Open (reopen)\n   - Show available transitions based on current status\n\n2. **Close with Reason**\n   - Inline confirmation\n   - Optional reason input\n   - Close mutation\n\n3. **Assign**\n   - User picker dropdown\n   - Self-assign shortcut\n   - Unassign option\n\n4. **Update Priority**\n   - Dropdown in header\n   - Immediate save\n\n5. **Delete** (with confirmation)\n   - Only for certain users/roles\n   - Confirm dialog\n\n## Mutations\n- Use React Query mutations\n- Invalidate bead queries on success\n- Show loading states","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-07T14:18:54.676247-06:00","created_by":"erik","updated_at":"2026-01-07T14:18:54.676247-06:00"}
{"id":"gtdispat-sa8","title":"Backend: Enhanced convoy API endpoints","description":"Add new API endpoints and enhance existing ones to provide richer convoy data.\n\n## New Endpoints\n- GET /convoys/:id/detail - Full convoy with all tracked issue details, workers, synthesis status\n- GET /convoys/stranded - Find stranded convoys (ready work, no workers)\n- POST /convoys/:id/close - Manual close with reason\n- GET /synthesis/:id/status - Synthesis readiness check\n\n## Enhanced Data Types\n```typescript\ninterface ConvoyDetail extends Convoy {\n  formula?: { name: string; type: string; };\n  notify?: string;\n  workers: { agent: string; issue_id: string; age: string; }[];\n  synthesis_ready: boolean;\n  is_stranded: boolean;\n  tracked_issues: TrackedIssueDetail[];\n}\n\ninterface TrackedIssueDetail extends TrackedIssue {\n  worker?: string;\n  worker_age?: string;\n  issue_type?: string;\n  created_at?: string;\n  blocked_by?: string[];\n}\n```\n\n## Implementation\n- Wrap gt convoy status --json for detail endpoint\n- Wrap gt convoy stranded --json for stranded endpoint\n- Add close convoy service function\n- Parse synthesis readiness from convoy metadata","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-07T09:25:55.180642-06:00","created_by":"erik","updated_at":"2026-01-07T09:35:12.077841-06:00","closed_at":"2026-01-07T09:35:12.077841-06:00","close_reason":"Implemented enhanced convoy API endpoints: getConvoyDetail, getStrandedConvoys, closeConvoy, getSynthesisStatus, startSynthesis, removeFromConvoy. Added new routes and TypeScript types for both backend and frontend."}
{"id":"gtdispat-snc","title":"Frontend: Dependency management UI","description":"Build UI for managing bead dependencies.\n\n## In Detail Panel\n- 'Blocked By' section showing issues this bead depends on\n- 'Blocks' section showing issues that depend on this bead\n- Each dep shows: status icon, ID, title, remove button\n\n## Add Dependency Modal/Inline\n- Search/filter beads to add as dependency\n- Exclude already-added deps\n- Exclude self\n- Direction selector (blocked-by vs blocks)\n\n## Dependency Graph View (optional)\n- Visual tree of dependencies\n- Click to navigate\n\n## API Calls\n- GET /beads/:id/deps\n- POST /beads/:id/deps { target_id, direction }\n- DELETE /beads/:id/deps/:depId\n\n## Cycle Detection\n- Show warning if adding dep would create cycle\n- Backend should reject cycles","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-07T14:19:02.735208-06:00","created_by":"erik","updated_at":"2026-01-07T14:19:02.735208-06:00"}
{"id":"gtdispat-unf","title":"Frontend: Advanced log filtering and search","description":"Implement advanced filtering and search capabilities.\n\n## Filter Panel\n- Level filter (checkboxes: info, warn, error, debug)\n- Time range picker (last 5m, 15m, 1h, 24h, custom)\n- Agent/rig filter (multi-select dropdown)\n- Event type filter (spawn, nudge, done, crash, etc.)\n\n## Search Features\n- Full-text search across messages\n- Regex search option\n- Search result highlighting\n- Jump to next/previous match\n- Match count indicator\n- Clear search button\n\n## Filter Presets\n- Save current filter as preset\n- Quick preset buttons (Errors only, Last hour, etc.)\n- Reset to default\n\n## URL Sync\n- Sync filters to URL query params\n- Shareable filtered log views\n- Restore filters from URL on load\n\n## Performance\n- Debounced search (300ms)\n- Virtual scrolling with filters\n- Maintain scroll position when filtering","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-07T14:43:54.755946-06:00","created_by":"erik","updated_at":"2026-01-07T14:43:54.755946-06:00"}
{"id":"gtdispat-xgo","title":"Frontend: Error alerts and notifications","description":"Add alert system for important log events.\n\n## Alert Triggers\n- Error-level logs\n- Crash events\n- Specific keywords (configurable)\n- Agent status changes\n\n## Notification UI\n- Toast notifications for new errors\n- Badge on Logs nav item when errors occur\n- Sound option (muted by default)\n- Desktop notifications (with permission)\n\n## Alert Panel\n- Collapsible alert summary at top of logs\n- Error count by source\n- Quick jump to first/last error\n- Acknowledge/dismiss alerts\n\n## Alert Configuration\n- Enable/disable per source\n- Keyword alert list\n- Notification preferences\n- Alert retention time\n\n## Components\n- AlertBanner - Summary at top\n- AlertToast - Pop-up notification\n- AlertBadge - Nav item indicator\n- AlertSettings - Configuration modal","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-07T14:44:13.186929-06:00","created_by":"erik","updated_at":"2026-01-07T14:44:13.186929-06:00"}
